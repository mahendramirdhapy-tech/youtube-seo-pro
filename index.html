<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>YouTube SEO Pro</title>
    <meta name="theme-color" content="#CC0000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="manifest.json">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }
        
        .youtube-gradient {
            background: linear-gradient(135deg, #FF0000 0%, #CC0000 100%);
        }
        
        .mobile-container {
            max-width: 100%;
            margin: 0 auto;
            padding: 0 12px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #FF0000 0%, #CC0000 100%);
            border: none;
            border-radius: 16px;
            padding: 16px 24px;
            font-size: 18px;
            font-weight: 600;
            color: white;
            box-shadow: 0 4px 12px rgba(255, 0, 0, 0.3);
            transition: all 0.3s ease;
        }
        
        .btn-primary:active {
            transform: scale(0.98);
            box-shadow: 0 2px 8px rgba(255, 0, 0, 0.2);
        }
        
        .card {
            background: white;
            border-radius: 20px;
            padding: 20px;
            margin: 12px 0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid #f0f0f0;
        }
        
        .input-field {
            width: 100%;
            padding: 16px;
            border: 2px solid #e5e7eb;
            border-radius: 16px;
            font-size: 16px;
            background: white;
            transition: all 0.3s ease;
        }
        
        .input-field:focus {
            border-color: #FF0000;
            box-shadow: 0 0 0 3px rgba(255, 0, 0, 0.1);
            outline: none;
        }
        
        .tab-button {
            padding: 12px 20px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .tab-button.active {
            background: white;
            color: #FF0000;
        }
        
        .tab-button:not(.active) {
            background: transparent;
            color: white;
        }
        
        .history-item {
            background: #f8fafc;
            border-radius: 16px;
            padding: 16px;
            margin: 8px 0;
            border: 1px solid #e2e8f0;
        }
        
        .copy-btn {
            background: #10b981;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 8px 16px;
            font-size: 14px;
            font-weight: 500;
        }
        
        .ad-container {
            background: #f8f9fa;
            border: 1px dashed #d1d5db;
            border-radius: 12px;
            padding: 16px;
            margin: 16px 0;
            text-align: center;
            color: #6b7280;
        }
        
        /* Mobile optimizations */
        @media (max-width: 768px) {
            .mobile-container {
                padding: 0 16px;
            }
            
            .card {
                padding: 16px;
                margin: 8px 0;
                border-radius: 16px;
            }
            
            .btn-primary {
                padding: 18px 24px;
                font-size: 16px;
            }
            
            .input-field {
                padding: 14px;
                font-size: 16px;
            }
        }
        
        /* Swipe animations */
        .slide-in {
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Loading animation */
        .loading-dots {
            display: inline-block;
        }
        
        .loading-dots:after {
            content: '...';
            animation: dots 1.5s steps(4, end) infinite;
        }
        
        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60%, 100% { content: '...'; }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen font-sans">
    <!-- Header -->
    <header class="youtube-gradient text-white py-4 shadow-lg sticky top-0 z-50">
        <div class="mobile-container">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <svg class="w-8 h-8 text-white" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
                    </svg>
                    <div>
                        <h1 class="text-xl font-bold">YouTube SEO Pro</h1>
                        <p class="text-xs opacity-90">AI Powered Tool</p>
                    </div>
                </div>
                
                <!-- Navigation Tabs -->
                <div class="flex space-x-1 bg-white/20 rounded-xl p-1">
                    <button id="tabGenerator" class="tab-button active">
                        üöÄ Generate
                    </button>
                    <button id="tabHistory" class="tab-button">
                        üìö History
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Top Ad Banner -->
    <div class="mobile-container mt-2">
        <div class="ad-container">
            <div id="adsterra-top-banner">
                <!-- Adsterra Mobile Banner (320x50) -->
                <script type="text/javascript">
                    atOptions = {
                        'key' : 'YOUR_MOBILE_BANNER_KEY',
                        'format' : 'iframe',
                        'height' : 50,
                        'width' : 320,
                        'params' : {}
                    };
                </script>
                <script type="text/javascript" src="//www.highperformanceformat.com/YOUR_MOBILE_BANNER_KEY/invoke.js"></script>
            </div>
            <span class="text-xs">Advertisement</span>
        </div>
    </div>

    <main class="mobile-container py-4">
        <!-- Generator Tab Content -->
        <div id="generatorTab" class="tab-content">
            <div class="card slide-in">
                <form id="seoForm">
                    <div class="mb-4">
                        <label class="block text-lg font-semibold text-gray-800 mb-3">
                            üé• Enter Video Topic
                        </label>
                        <textarea 
                            id="videoTopic" 
                            rows="3" 
                            class="input-field"
                            placeholder="Example: How to make perfect coffee at home..."
                            required
                        ></textarea>
                    </div>

                    <div class="grid grid-cols-1 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">üåç Language</label>
                            <select id="language" class="input-field">
                                <option value="English">English</option>
                                <option value="Hindi">Hindi</option>
                                <option value="Spanish">Spanish</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">ü§ñ AI Model</label>
                            <select id="aiModel" class="input-field">
                                <option value="auto">Auto (Recommended)</option>
                                <option value="deepseek/deepseek-r1">DeepSeek R1</option>
                                <option value="mistralai/mixtral-8x7b-instruct">Mixtral 8x7B</option>
                            </select>
                        </div>
                    </div>

                    <!-- Middle Ad Banner -->
                    <div class="my-4">
                        <div class="ad-container">
                            <div id="adsterra-middle-banner">
                                <!-- Adsterra Rectangle (300x250) -->
                                <script type="text/javascript">
                                    atOptions = {
                                        'key' : 'YOUR_RECTANGLE_KEY',
                                        'format' : 'iframe',
                                        'height' : 250,
                                        'width' : 300,
                                        'params' : {}
                                    };
                                </script>
                                <script type="text/javascript" src="//www.highperformanceformat.com/YOUR_RECTANGLE_KEY/invoke.js"></script>
                            </div>
                            <span class="text-xs">Advertisement</span>
                        </div>
                    </div>

                    <button 
                        type="submit" 
                        id="generateBtn"
                        class="btn-primary w-full flex items-center justify-center"
                    >
                        <span id="btnText">üöÄ Generate SEO Content</span>
                        <svg id="loadingSpinner" class="hidden animate-spin h-5 w-5 ml-2" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                    </button>
                </form>
            </div>

            <div id="resultsSection" class="hidden">
                <div class="text-center mb-4">
                    <h2 class="text-xl font-bold text-gray-800 mb-2">üéâ SEO Content Ready!</h2>
                    <p class="text-gray-600 text-sm">Tap to copy sections</p>
                </div>
                <div id="resultsContainer" class="space-y-3"></div>
            </div>

            <div id="loadingSection" class="hidden text-center py-6">
                <div class="inline-flex items-center space-x-3 bg-white rounded-xl px-6 py-4 shadow-lg">
                    <svg class="animate-spin h-6 w-6 text-red-600" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    <span class="font-semibold text-gray-800">Generating<span class="loading-dots"></span></span>
                </div>
            </div>
        </div>

        <!-- History Tab Content -->
        <div id="historyTab" class="tab-content hidden">
            <div class="card">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl font-bold text-gray-800">üìö Your History</h2>
                    <button id="clearHistory" class="bg-red-500 text-white px-3 py-2 rounded-lg text-sm">
                        üóëÔ∏è Clear All
                    </button>
                </div>
                
                <div id="historyList" class="space-y-3 max-h-[60vh] overflow-y-auto">
                    <!-- History items will be loaded here -->
                </div>
                
                <div id="emptyHistory" class="text-center py-8">
                    <svg class="w-16 h-16 text-gray-300 mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                    </svg>
                    <p class="text-gray-500">No history yet</p>
                    <p class="text-gray-400 text-sm mt-1">Generate some SEO content first!</p>
                </div>
            </div>
        </div>

        <!-- Bottom Ad Banner -->
        <div class="my-4">
            <div class="ad-container">
                <div id="adsterra-bottom-banner">
                    <!-- Adsterra Large Mobile Banner (320x100) -->
                    <script type="text/javascript">
                        atOptions = {
                            'key' : 'YOUR_LARGE_MOBILE_KEY',
                            'format' : 'iframe',
                            'height' : 100,
                            'width' : 320,
                            'params' : {}
                        };
                    </script>
                    <script type="text/javascript" src="//www.highperformanceformat.com/YOUR_LARGE_MOBILE_KEY/invoke.js"></script>
                </div>
                <span class="text-xs">Advertisement</span>
            </div>
        </div>
    </main>

    <footer class="bg-gray-800 text-white py-4 mt-4">
        <div class="mobile-container text-center">
            <p class="text-sm">Made With ‚ù§Ô∏è by Mahendra</p>
            <p class="text-xs text-gray-400 mt-1">YouTube SEO Pro - Free AI Tool</p>
        </div>
    </footer>

    <!-- Add to Home Screen Prompt -->
    <div id="installPrompt" class="fixed bottom-4 left-4 right-4 bg-white rounded-2xl shadow-2xl p-4 hidden z-50 border">
        <div class="flex items-center space-x-3">
            <svg class="w-8 h-8 text-red-600" viewBox="0 0 24 24" fill="currentColor">
                <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
            </svg>
            <div class="flex-1">
                <h3 class="font-semibold text-gray-800">Install YouTube SEO Pro</h3>
                <p class="text-xs text-gray-600">Add to home screen for quick access</p>
            </div>
            <button id="installBtn" class="bg-red-600 text-white px-3 py-2 rounded-lg text-sm font-semibold">
                Install
            </button>
            <button id="dismissPrompt" class="text-gray-400">
                ‚úï
            </button>
        </div>
    </div>

    <script>
        // Mobile-optimized JavaScript
        let deferredPrompt;
        
        // Service Worker Registration for PWA
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js')
                .then(() => console.log('SW Registered'))
                .catch(() => console.log('SW Registration failed'));
        }
        
        // Add to Home Screen functionality
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            setTimeout(() => {
                const dismissed = localStorage.getItem('installPromptDismissed');
                if (!dismissed) {
                    document.getElementById('installPrompt').classList.remove('hidden');
                }
            }, 3000);
        });
        
        document.getElementById('installBtn').addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                if (outcome === 'accepted') {
                    document.getElementById('installPrompt').classList.add('hidden');
                }
                deferredPrompt = null;
            }
        });
        
        document.getElementById('dismissPrompt').addEventListener('click', () => {
            document.getElementById('installPrompt').classList.add('hidden');
            localStorage.setItem('installPromptDismissed', 'true');
        });
        
        // Touch-optimized event handlers
        const seoForm = document.getElementById('seoForm');
        const generateBtn = document.getElementById('generateBtn');
        
        // Storage and History Management
        const STORAGE_KEY = 'youtube_seo_history';
        
        function saveToHistory(seoData, topic, language, model) {
            const history = getHistory();
            const newItem = {
                id: Date.now(),
                timestamp: new Date().toLocaleString(),
                topic: topic,
                language: language,
                model: model,
                data: seoData
            };
            
            history.unshift(newItem);
            if (history.length > 20) history.splice(20); // Keep only 20 items for mobile
            
            localStorage.setItem(STORAGE_KEY, JSON.stringify(history));
            return newItem;
        }
        
        function getHistory() {
            try {
                return JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
            } catch {
                return [];
            }
        }
        
        function clearHistory() {
            if (confirm('Clear all history?')) {
                localStorage.removeItem(STORAGE_KEY);
                loadHistory();
            }
        }
        
        function loadHistory() {
            const history = getHistory();
            const historyList = document.getElementById('historyList');
            const emptyHistory = document.getElementById('emptyHistory');
            
            if (history.length === 0) {
                historyList.innerHTML = '';
                emptyHistory.classList.remove('hidden');
                return;
            }
            
            emptyHistory.classList.add('hidden');
            historyList.innerHTML = history.map(item => `
                <div class="history-item slide-in">
                    <div class="flex justify-between items-start mb-2">
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-800 text-sm">${item.topic}</h3>
                            <p class="text-xs text-gray-500">
                                ${item.timestamp}
                            </p>
                        </div>
                        <button onclick="deleteHistoryItem(${item.id})" class="text-red-500 text-xs">
                            üóëÔ∏è
                        </button>
                    </div>
                    
                    <div class="text-xs text-gray-600 mb-2">
                        <strong>Titles:</strong> ${item.data.titles.split(',').slice(0, 2).join(', ')}
                    </div>
                    
                    <div class="flex space-x-2">
                        <button onclick="viewFullHistoryItem(${item.id})" 
                                class="bg-blue-500 text-white px-2 py-1 rounded text-xs flex-1">
                            üëÅÔ∏è View
                        </button>
                        <button onclick="useHistoryItem(${item.id})" 
                                class="bg-green-500 text-white px-2 py-1 rounded text-xs flex-1">
                            üîÑ Use
                        </button>
                    </div>
                </div>
            `).join('');
        }
        
        function deleteHistoryItem(id) {
            const history = getHistory().filter(item => item.id !== id);
            localStorage.setItem(STORAGE_KEY, JSON.stringify(history));
            loadHistory();
        }
        
        function viewFullHistoryItem(id) {
            const history = getHistory();
            const item = history.find(h => h.id === id);
            if (!item) return;
            
            // Mobile-friendly modal
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-2xl p-4 max-w-sm w-full max-h-[80vh] overflow-y-auto">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="font-bold text-lg">${item.topic}</h3>
                        <button onclick="this.closest('.fixed').remove()" class="text-gray-500">‚úï</button>
                    </div>
                    <div class="space-y-3 text-sm">
                        <div>
                            <strong>üéØ Titles:</strong>
                            <div class="mt-1 bg-gray-50 p-2 rounded">${item.data.titles}</div>
                        </div>
                        <div>
                            <strong>üìù Description:</strong>
                            <div class="mt-1 bg-gray-50 p-2 rounded whitespace-pre-wrap">${item.data.description}</div>
                        </div>
                        <div>
                            <strong>üîë Keywords:</strong>
                            <div class="mt-1 bg-gray-50 p-2 rounded">${item.data.keywords}</div>
                        </div>
                        <div>
                            <strong>üè∑Ô∏è Hashtags:</strong>
                            <div class="mt-1 bg-gray-50 p-2 rounded">${item.data.hashtags}</div>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        function useHistoryItem(id) {
            const history = getHistory();
            const item = history.find(h => h.id === id);
            if (!item) return;
            
            switchTab('generator');
            document.getElementById('videoTopic').value = item.topic;
            document.getElementById('language').value = item.language;
            document.getElementById('aiModel').value = item.model;
            
            // Show results immediately
            displayResults(item.data, `History - ${item.model}`);
        }
        
        // Tab Management
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.add('hidden');
            });
            
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(`${tabName}Tab`).classList.remove('hidden');
            document.getElementById(`tab${tabName.charAt(0).toUpperCase() + tabName.slice(1)}`)
                .classList.add('active');
            
            if (tabName === 'history') {
                loadHistory();
            }
        }
        
        // API Call
        async function generateSEOContent(topic, language, modelType) {
            showLoading();
            
            try {
                const response = await fetch('/api/generate', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        topic: topic,
                        language: language,
                        model: modelType
                    })
                });
        
                if (!response.ok) {
                    throw new Error('API request failed');
                }
        
                const data = await response.json();
                
                if (data.success) {
                    displayResults(data.data, data.model);
                } else {
                    throw new Error(data.error || 'Generation failed');
                }
        
            } catch (error) {
                showError(error.message);
                const fallbackData = generateFallbackContent(topic, language);
                displayResults(fallbackData, 'Fallback Generator');
            } finally {
                hideLoading();
            }
        }
        
        // Form Submission with touch optimization
        seoForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const topic = document.getElementById('videoTopic').value.trim();
            const language = document.getElementById('language').value;
            const modelType = document.getElementById('aiModel').value;
        
            if (!topic) {
                showError('Please enter your video topic');
                return;
            }
        
            // Add touch feedback
            generateBtn.style.transform = 'scale(0.98)';
            setTimeout(() => {
                generateBtn.style.transform = '';
            }, 150);
        
            await generateSEOContent(topic, language, modelType);
        });
        
        // Display Results (Mobile Optimized)
        function displayResults(data, modelUsed) {
            const topic = document.getElementById('videoTopic').value.trim();
            const language = document.getElementById('language').value;
            const model = document.getElementById('aiModel').value;
            
            // Save to history
            saveToHistory(data, topic, language, model);
            
            const resultsHTML = `
                <div class="card slide-in">
                    <h3 class="font-semibold text-green-800 mb-2">üéØ SEO Titles</h3>
                    <div class="space-y-2 mb-3">
                        ${data.titles.split(',').map(title => `
                            <div class="bg-gray-50 rounded-lg p-2 border text-sm">
                                <span class="text-gray-700">${title.trim()}</span>
                            </div>
                        `).join('')}
                    </div>
                    <button onclick="copyToClipboard('${data.titles.replace(/'/g, "\\'")}', this)" 
                            class="copy-btn w-full">
                        üìã Copy All Titles
                    </button>
                </div>
        
                <div class="card slide-in">
                    <h3 class="font-semibold text-blue-800 mb-2">üìù Description</h3>
                    <div class="bg-gray-50 rounded-lg p-3 border mb-3 max-h-32 overflow-y-auto">
                        <pre class="text-gray-700 whitespace-pre-wrap text-sm">${data.description}</pre>
                    </div>
                    <button onclick="copyToClipboard('${data.description.replace(/'/g, "\\'")}', this)" 
                            class="copy-btn w-full">
                        üìã Copy Description
                    </button>
                </div>
        
                <div class="card slide-in">
                    <h3 class="font-semibold text-purple-800 mb-2">üîë Keywords & Hashtags</h3>
                    <div class="flex flex-wrap gap-1 mb-2">
                        ${data.keywords.split(',').slice(0, 8).map(keyword => `
                            <span class="bg-gray-100 px-2 py-1 rounded text-xs border">
                                ${keyword.trim()}
                            </span>
                        `).join('')}
                    </div>
                    <div class="flex flex-wrap gap-1 mb-3">
                        ${data.hashtags.split(' ').slice(0, 6).map(hashtag => `
                            <span class="bg-gray-100 px-2 py-1 rounded text-xs border">
                                ${hashtag.trim()}
                            </span>
                        `).join('')}
                    </div>
                    <button onclick="copyToClipboard('${data.keywords.replace(/'/g, "\\'")}', this)" 
                            class="copy-btn w-full">
                        üìã Copy Keywords
                    </button>
                </div>
        
                <div class="text-center mt-2">
                    <p class="text-xs text-gray-600">Generated by ${modelUsed}</p>
                    <p class="text-xs text-green-600 mt-1">‚úÖ Saved to history</p>
                </div>
            `;
        
            document.getElementById('resultsContainer').innerHTML = resultsHTML;
            document.getElementById('resultsSection').classList.remove('hidden');
            
            // Smooth scroll to results
            document.getElementById('resultsSection').scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }
        
        // Fallback Content
        function generateFallbackContent(topic, language) {
            return {
                titles: `${topic} - Complete Guide, How to ${topic} - Step by Step, ${topic} Tutorial 2024`,
                description: `In this video, we explore ${topic} in detail. Learn everything you need to know!\n\nTimestamps:\n0:00 Introduction\n1:30 Getting Started\n3:45 Main Content\n8:20 Advanced Tips\n12:00 Conclusion\n\nDon't forget to LIKE and SUBSCRIBE!`,
                keywords: `${topic}, tutorial, guide, how to, tips, 2024, youtube`,
                hashtags: `#${topic.replace(/\s+/g, '')} #Tutorial #HowTo #Guide`
            };
        }
        
        // Copy Function with mobile feedback
        function copyToClipboard(text, button) {
            navigator.clipboard.writeText(text).then(() => {
                const originalText = button.textContent;
                button.textContent = '‚úÖ Copied!';
                button.style.background = '#10b981';
                
                // Haptic feedback on mobile
                if (navigator.vibrate) {
                    navigator.vibrate(50);
                }
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '';
                }, 2000);
            });
        }
        
        // UI Helpers
        function showLoading() {
            generateBtn.disabled = true;
            document.getElementById('loadingSpinner').classList.remove('hidden');
            document.getElementById('btnText').innerHTML = 'Generating<span class="loading-dots"></span>';
            document.getElementById('loadingSection').classList.remove('hidden');
            document.getElementById('resultsSection').classList.add('hidden');
        }
        
        function hideLoading() {
            generateBtn.disabled = false;
            document.getElementById('loadingSpinner').classList.add('hidden');
            document.getElementById('btnText').textContent = 'üöÄ Generate SEO Content';
            document.getElementById('loadingSection').classList.add('hidden');
        }
        
        function showError(message) {
            // Mobile-friendly alert
            const errorDiv = document.createElement('div');
            errorDiv.className = 'fixed top-4 left-4 right-4 bg-red-500 text-white p-3 rounded-lg shadow-lg z-50 text-center';
            errorDiv.textContent = 'Error: ' + message;
            document.body.appendChild(errorDiv);
            
            setTimeout(() => {
                errorDiv.remove();
            }, 3000);
        }
        
        // Event Listeners
        document.getElementById('tabGenerator').addEventListener('click', () => switchTab('generator'));
        document.getElementById('tabHistory').addEventListener('click', () => switchTab('history'));
        document.getElementById('clearHistory').addEventListener('click', clearHistory);
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadHistory();
            
            // Prevent zoom on input focus
            document.addEventListener('touchstart', function() {}, {passive: true});
        });
        
        // Make functions global
        window.deleteHistoryItem = deleteHistoryItem;
        window.viewFullHistoryItem = viewFullHistoryItem;
        window.useHistoryItem = useHistoryItem;
        window.copyToClipboard = copyToClipboard;
        window.switchTab = switchTab;
    </script>
</body>
</html>
